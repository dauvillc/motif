# @package _global_
defaults:
  - override /sources: pmw_radar
  - override /lightning_module: flow_matching
  - override /lr_scheduler: cosine_warmup_100epochs
  - override /metrics: none
  - override /model: motif_ds_12b_d384

lightning_module:
  use_det_model_from_run: null
  mask_only_sources:  # Only mask these sources when applying random source masking
    - tc_primed_radar_GMI_GPM

wandb:
  name: diff_pmw_radar
  group: diff_pmw_radar

dataset:
  train:
    dt_max: 6
    groups_availability: # At least one of each group is included in every sample.
      input:
        sources:
          - tc_primed_pmw_SSMI_F11
          - tc_primed_pmw_SSMI_F13
          - tc_primed_pmw_SSMI_F14
          - tc_primed_pmw_SSMI_F15
          - tc_primed_pmw_SSMIS_F16
          - tc_primed_pmw_SSMIS_F17
          - tc_primed_pmw_SSMIS_F18
          - tc_primed_pmw_SSMIS_F19
          - tc_primed_pmw_TMI_TRMM
          - tc_primed_pmw_AMSR2_GCOMW1
        # Min, max number of sources from the group
        availability: [1, 2]
      gmi:
        sources:
          - tc_primed_radar_GMI_GPM
        availability: [1, null]
trainer:
  strategy: ddp_find_unused_parameters_true
