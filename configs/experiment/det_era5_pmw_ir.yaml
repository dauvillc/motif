# @package _global_
defaults:
  - override /sources: era5_pmw_ir
  - override /lightning_module: deterministic
  - override /lr_scheduler: cosine_warmup_150ksteps
  - override /trainer: iteration_based
  - override /metrics: none
  - override /model: motif_ds_12b_d384
  - override /data_augmentation: era5_cropping

lightning_module:
  patch_size: 4

wandb:
  name: det_era5_pmw_ir
  group: det_era5_pmw_ir

dataset:
  train:
    dt_max: 48
    select_most_recent: false
    groups_availability:
      era5:
        sources:
          - tc_primed_era5
        # Min, max number of sources from the group
        availability: [2, 2]
      pmw:
        sources:
          - pmw  # All PMW sources grouped together
        availability: [1, 2]
      ir:
        sources:
          - infrared  # All IR sources grouped together
        availability: [1, 1]

trainer:
  strategy: ddp_find_unused_parameters_true